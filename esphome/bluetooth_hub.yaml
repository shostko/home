esphome:
  name: bluetooth_hub
  platform: ESP32
  board: nodemcu-32s

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_pwd

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "BluetoothHub Fallback Hotspot"
    password: !secret esphome_pwd

captive_portal:

web_server:
  port: 80
  auth:
    username: admin
    password: !secret esphome_pwd
    
# Enable logging
logger:

# Enable Home Assistant API
api:
  password: !secret esphome_pwd

ota:
  password: !secret esphome_pwd

uart:
  rx_pin: 17
  tx_pin: 5
  baud_rate: 9600

esp32_ble_tracker:

bluetooth_proxy:
  active: true

switch:
  - platform: template
    name: "MH-Z19 (1) Automatic Baseline Calibration"
    optimistic: true
    on_turn_on:
      mhz19.abc_enable: mhz19_1
    on_turn_off:
      mhz19.abc_disable: mhz19_1

button:
  - platform: template
    name: "MH-Z19 (1) Calibrate Zero"
    id: mh_z19_1_calibration_zero
    disabled_by_default: false
    on_press:
      - mhz19.calibrate_zero: mhz19_1

sensor:
  - platform: mhz19
    id: mhz19_1
    co2:
      name: "MH-Z19 (1) CO2"
    temperature:
      name: "MH-Z19 (1) Temperature"
