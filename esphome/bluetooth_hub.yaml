esphome:
  name: bluetooth_hub
  platform: ESP32
  board: nodemcu-32s

wifi:
  ssid: !secret wifi_ssid
  password: !secret wifi_pwd

  # Enable fallback hotspot (captive portal) in case wifi connection fails
  ap:
    ssid: "BluetoothHub Fallback Hotspot"
    password: !secret esphome_pwd

captive_portal:

web_server:
  port: 80
  auth:
    username: admin
    password: !secret esphome_pwd
    
# Enable logging
logger:

# Enable Home Assistant API
api:
  password: !secret esphome_pwd

ota:
  password: !secret esphome_pwd

uart:
  rx_pin: 17
  tx_pin: 5
  baud_rate: 9600

esp32_ble_tracker:

sensor:
  - platform: mhz19
    co2:
      name: "MH-Z19 (1) CO2"
    temperature:
      name: "MH-Z19 (1) Temperature"
    update_interval: 30s
    automatic_baseline_calibration: false
  - platform: xiaomi_lywsdcgq
    mac_address: 58:2D:34:35:D1:07
    temperature:
      name: "Xiaomi MiJia D107 Temperature"
    humidity:
      name: "Xiaomi MiJia D107 Humidity"
    battery_level:
      name: "Xiaomi MiJia D107 Battery Level"