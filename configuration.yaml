# Configure a default setup of Home Assistant (frontend, api, etc)
default_config:

# Uncomment this if you are using SSL/TLS, running in Docker container, etc.
# http:
#   base_url: example.duckdns.org:8123

# Text to speech
tts:
  - platform: google_translate

group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
zone: !include zones.yaml

panel_iframe:
  tasmoadmin:
    title: TasmoAdmin
    icon: mdi:lightbulb-on
    url: !secret tasmoadmin_host

# You can leave MAC empty if you only have one gateway.
xiaomi_aqara:
  discovery_retry: 5
  gateways:
    - key: !secret xiaomi_gateway_key
    
light:
  - platform: xiaomi_miio
    host: 192.168.1.41
    token: !secret xiaomi_bulb1_token
    model: philips.light.bulb

fan:
  - platform: xiaomi_miio
    host: 192.168.1.104
    model: zhimi.humidifier.ca1
    token: !secret xiaomi_humidifier_token

switch:

media_player:
  - platform: webostv
    host:  192.168.1.130
    name: TV
    filename: webostv.conf
    timeout: 5

telegram_bot:
  # Home
  - platform: webhooks
    url: !secret white_host
    api_key: !secret telegram_home_key
    allowed_chat_ids:
      - !secret telegram_chat_sergey
      - !secret telegram_chat_alexa
    trusted_networks:
      - 172.30.33.3/32
      - 149.154.160.0/20
      - 91.108.4.0/22
  # Home Log
  - platform: webhooks
    url: !secret white_host
    api_key: !secret telegram_log_key
    allowed_chat_ids:
      - !secret telegram_chat_log
    trusted_networks:
      - 172.30.33.3/32
      - 149.154.160.0/20
      - 91.108.4.0/22

notify:
  - name: log
    platform: telegram
    chat_id: !secret telegram_chat_log
  - name: sergey
    platform: telegram
    chat_id: !secret telegram_chat_sergey
  - name: alexa
    platform: telegram
    chat_id: !secret telegram_chat_alexa
  - name: family
    platform: group
    services:
      - service: sergey
      - service: alexa
  - name: tv
    platform: webostv
    host: 192.168.1.130
    filename: webostv.conf

timer: !include includes/timer.yaml

yandex_smart_home: